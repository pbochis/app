<link rel="import" href="candidate-card.html">
<link rel="import" href="/elements/services/user-service.html">
<link rel="import" href="/bower_components/iron-flex-layout/classes/iron-flex-layout.html">

<dom-module id="candidate-list">
	<style>
		:host {
			display: block;
		}
		#createChallengeButton {
			position: fixed;
			right: 2%;
			bottom: 5%;
		}
	</style>
	<template>
		<user-service id="userService" users="{{users}}"></user-service>
		<div class="horizontal layout center-center wrap">
			<template is="dom-repeat" items="{{users}}">
				<candidate-card user="{{item}}"></candidate-card>
			</template>
		</div>
		<paper-fab id="createChallengeButton" on-click="_createChallenge" icon="create"></paper-fab>
	</template>
</dom-module>
<script>
	Polymer({
		is: 'candidate-list',
		properties: {
			users: {
				type: Array,
				notify: true
			}
		},
		// TODO(victorbalan): check what happens if we replace with ready
		getCandidates: function(){
			this.$.userService.getAll();
		},
		_createChallenge: function(){
			page.redirect('/challenge/create');
		}
	});
</script>
