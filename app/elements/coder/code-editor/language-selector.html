<link rel="import" href="/bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="/bower_components/paper-menu/paper-menu.html">

<dom-module id="language-selector">
	<style>
		paper-dropdown-menu{
			width: 200px;
		}
		option {
			width: 200px;
		}
		paper-menu {
			background-color: white;
		}
	</style>
	<template>
		<paper-dropdown-menu label="Language" selected-item="{{language}}">
			<paper-menu id="languageMenu" class="dropdown-content" on-iron-select="_select">
				<template is="dom-repeat" items="{{languages}}">
					<option value="{{item.tag}}">{{item.name}}</option>
				</template>
			</paper-menu>
		</paper-dropdown-menu>
	</template>
	<script>
		Polymer({
			is: 'language-selector',
			properties: {
				languages:{
					type: Array,
					notify: true,
					reflectToAttribute: true
				},
				language: {
					type: Object,
					notify: true,
					reflectToAttribute: true
				}
			},
			observers: [
				'afterPropertiesSet(languages)'
			],
			afterPropertiesSet: function(languages){
				if(languages.length > 0){
					this.$.languageMenu.selected = 0;
				}
			},
			_select: function(e){
				this.fire('language-change', e.detail.item.value);
			}
		});

	</script>
</dom-module>
