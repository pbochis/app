<link rel="import" href="../../../../bower_components/paper-spinner/paper-spinner.html">

<dom-module id="test-stats-element">
	<style>
		:host{
			display: block;
			height: 100%;
		}
		.text{
			margin-top: 10px;
		}
		.circle {
			width: 75px;
			height: 75px;
			-moz-border-radius: 50px;
			-webkit-border-radius: 50px;
			border-radius: 50px;
		}
		.empty{
			line-height:160px;
		}
		.red{
			background: #CD4F39;
		}
		.green{
			background: #86C67C;
		}
		.gray{
			border: 1px solid black;
		}
		.wrapper{
			text-align:center;
			margin: 15px;
		}
	</style>
	<template>
		<div class="wrapper">
			<div class$="{{divClass}}">
				<span class="empty"></span>
				<paper-spinner id="spinner" alt="Loading results"></paper-spinner>
			</div>
			<h4 class="text">Test <span>{{counter}}</span></h4>
		</div>
	</template>
	<script>
	 Polymer({
		 is: 'test-stats-element',
		 properties:{
			 counter: {
				 type: Number,
				 notify: true,
				 reflectAsAttribute: true
			 },
			 successful: Boolean,
			 divClass: {
				 type: String,
				 notify: true,
				 value: 'circle gray'
			 }
		 },
		 refresh: function(){
			 this.stopLoading();
			 this.divClass = 'circle gray';
		 },
		 setSuccessful: function(successful){
			 this.successful = successful;
			 this.divClass = !this.successful ? 'circle red': 'circle green';
		 },
		 stopLoading: function(){
	 		this.$.spinner.active = false;
		 },
		 startLoading: function(){
			 this.divClass = 'circle';
			 this.$.spinner.active = true;
		 }
	 });
 </script>
</dom-module>
